import { Callout } from 'nextra/components'

# Multi-mode variable organization

Multi-mode is a powerful feature of Figma's variable system that allows the same variable to have different values in different contexts. Properly organizing multi-mode variables is key to building a scalable design system. We recommend using the [single outlet principle](/docs/single-outlet-principle) to manage complex multi-mode variable systems.

## Multi-mode application scenarios

Multi-mode variable systems are suitable for the following scenarios:
- **Theme modes**: Light/dark theme switching
- **Brand modes**: Multi-brand product support
- **Device modes**: Responsive design adaptation
- **Density modes**: Interface density adjustment

## Organization strategies

### Separate collections by dimension
Each mode dimension uses independent collection management, combined with the [single outlet principle](/docs/single-outlet-principle) to establish clear reference hierarchies.

### Streamline variables
Mode collections only include variables that actually need to change in that dimension.

### Semantic naming
Use descriptive variable names and mode names, such as `colors/primary` and `light/dark`.

## Creating Complex Multi-Mode Variable Systems

Using the single outlet principle, you can create complex multi-dimensional variable systems that include combinations like light/dark themes, brand themes, responsive design, and density modes. Let's build this step by step and experience the benefits of the single outlet principle.

### Starting with Brand Theme Combinations

We already have a variable system that supports light/dark themes. Now we want to add brand theme variables on top of the existing light/dark theme system.

```
                ┌────────────────────────┬────────────────────────┐
                │                        │                        │
                │ Design Tokens          │         defalut        │
                │                        │                        │
                ├────────────────────────┼────────────────────────┤
                │                        │                        │
                │ colors/primary/DEFAULT │ colors/primary/DEFAULT │───────┐
                │                        │                        │       │
┌──────────────►│ colors/zhiyun/600      │ #E55517                │       │
│               │                        │                        │       │
├──────────────►│ colors/zhiyun/500      │ #C03939                │       │
│               │                        │                        │       │
│               │ ...                    │ ...                    │       │
│               │                        │                        │       │
│               └────────────────────────┴────────────────────────┘       │
│                                                                         │
│                                                                         │
│    ┌────────────────────────────────────────────────────────────────────┘
│    │
│    │
│    │           ┌────────────────────────┬──────────────────────┬─────────────────────┐
│    │           │                        │                      │                     │
│    │           │ Theme Modes            │         light        │         dark        │
│    │           │                        │                      │                     │
│    │           ├────────────────────────┼──────────────────────┼─────────────────────┤
│    │           │                        │                      │                     │
│    └──────────►│ colors/primary/DEFAULT │ colors/zhiyun/600──┐ │ colors/zhiyun/500─┐ │
│                │                        │                    │ │                   │ │
│                │ ...                    │ ...                │ │ ...               │ │
│                │                        │                    │ │                   │ │
│                └────────────────────────┴────────────────────┼─┴───────────────────┼─┘
│                                                              │                     │
│                                                              │                     │
└──────────────────────────────────────────────────────────────┴─────────────────────┘
```

### Adding Brand Theme Modes
Create a Brands Modes collection to manage brand theme variables, and create two different brand modes (in this example `zhiyun` and `fiveray`), then create two variables `colors/primary/light` and `colors/primary/dark`, setting different values for each mode (in this example referencing related colors from the main Design Tokens collection).

```
 ┌────────────────────────┬──────────────────────┬─────────────────────┐
 │                        │                      │                     │
 │ Brands Modes           │        zhiyun        │        fiveray      │
 │                        │                      │                     │
 ├────────────────────────┼──────────────────────┼─────────────────────┤
 │                        │                      │                     │
 │ colors/primary/light   │ colors/zhiyun/600    │ colors/fiveray/600  │
 │                        │                      │                     │
 │ colors/primary/dark    │ colors/zhiyun/600    │ colors/fiveray/500  │
 │                        │                      │                     │
 │ ...                    │ ...                  │ ...                 │
 │                        │                      │                     │
 └────────────────────────┴──────────────────────┴─────────────────────┘
```

Next, establish variable reference relationships: variables in the Theme Modes collection reference corresponding variables in the Brands Modes collection based on the current theme, while variables in the Brands Modes collection reference specific color values in the Design Tokens collection. This way, when switching brands or themes, the entire system's colors will update accordingly.

```


                   ┌────────────────────────┬────────────────────────┐
                   │                        │                        │
                   │ Design Tokens          │         defalut        │
                   │                        │                        │
                   ├────────────────────────┼────────────────────────┤
                   │                        │                        │
                   │ colors/primary/DEFAULT │ colors/primary/DEFAULT │───────┐
                   │                        │                        │       │
   ┌──────────────►│ colors/zhiyun/600      │ #E55517                │       │
   │               │                        │                        │       │
   ├──────────────►│ colors/zhiyun/500      │ #C03939                │       │
   │               │                        │                        │       │
   ├──────────────►│ colors/fiveray/600     │ #EE6D21                │       │
   │               │                        │                        │       │
   ├──────────────►│ colors/fiveray/500     │ #DA5959                │       │
   │               │                        │                        │       │
   │               │ ...                    │ ...                    │       │
   │               │                        │                        │       │
   │               └────────────────────────┴────────────────────────┘       │
   │                                                                         │
   │                                                                         │
   │   ┌─────────────────────────────────────────────────────────────────────┘
   │   │
   │   │
   │   │           ┌────────────────────────┬──────────────────────┬─────────────────────┐
   │   │           │                        │                      │                     │
   │   │           │ Theme Modes            │         light        │         dark        │
   │   │           │                        │                      │                     │
   │   │           ├────────────────────────┼──────────────────────┼─────────────────────┤
   │   │           │                        │                      │                     │
   │   └──────────►│ colors/primary/DEFAULT │ colors/primary/light │ colors/primary/dark │
   │               │                        │                      │                     │
   │               │ ...                    │ ...      │           │ ...       │         │
   │               │                        │          │           │           │         │
   │               └────────────────────────┴──────────┼───────────┴───────────┼─────────┘
   │                                                   │                       │
   │                                                   │                       │
   │   ┌───────────────────────────────────────────────┴───────────────────────┘
   │   │
   │   │
   │   │           ┌────────────────────────┬──────────────────────┬─────────────────────┐
   │   │           │                        │                      │                     │
   │   │           │ Brands Modes           │        zhiyun        │        fiveray      │
   │   │           │                        │                      │                     │
   │   │           ├────────────────────────┼──────────────────────┼─────────────────────┤
   │   │           │                        │                      │                     │
   │   ├──────────►│ colors/primary/light   │ colors/zhiyun/600──┐ │ colors/fiveray/600─┐│
   │   │           │                        │                    │ │                    ││
   │   └──────────►│ colors/primary/dark    │ colors/zhiyun/600──┤ │ colors/fiveray/500──┤│
   │               │                        │                    │ │                    ││
   │               │ ...                    │ ...                │ │ ...                ││
   │               │                        │                    │ │                    ││
   │               └────────────────────────┴────────────────────┼─┴────────────────────┼┘
   │                                                             │                      │
   │                                                             │                      │
   └─────────────────────────────────────────────────────────────┴──────────────────────┘

```

That's it! You've created a multi-dimensional variable system that includes light/dark themes and brand themes, and through the single outlet principle, made your design system more flexible and maintainable.
Looking at the overall variable reference chain, you'll find it somewhat complex, but this is far clearer and more maintainable than managing all variables in a single collection. But we're not done yet - let's further expand this variable system.

### Responsive Design Modes
Typically, font size variables adjust based on different screen sizes. Taking the `font/hero/size` variable as an example, first create a `font/hero/size` variable in the Design Tokens collection, along with `font/size/2xl` and `font/size/3xl` variables.

```
    ┌────────────────────────┬────────────────────────┐
    │                        │                        │
    │ Design Tokens          │         defalut        │
    │                        │                        │
    ├────────────────────────┼────────────────────────┤
    │                        │                        │
    │ colors/primary/DEFAULT │ colors/primary/DEFAULT │
    │                        │                        │
    │ colors/zhiyun/600      │ #E55517                │
    │                        │                        │
    │ colors/zhiyun/500      │ #C03939                │
    │                        │                        │
    │ colors/fiveray/600     │ #EE6D21                │
    │                        │                        │
    │ colors/fiveray/500     │ #DA5959                │
    │                        │                        │
───►│ font/hero/size         │ font/size/2xl          │
    │                        │                        │
───►│ font/size/2xl          │ 24                     │
    │                        │                        │
───►│ font/size/3xl          │ 30                     │
    │                        │                        │
    │ ...                    │ ...                    │
    │                        │                        │
    └────────────────────────┴────────────────────────┘
```

Create a Device Modes collection to manage responsive design variables, and create a `font/hero/size` variable, then set different values for different device sizes.

```

 ┌────────────────────────┬──────────────────────┬─────────────────────┐
 │                        │                      │                     │
 │ Device Modes           │        default       │    min-width:1024   │
 │                        │                      │                     │
 ├────────────────────────┼──────────────────────┼─────────────────────┤
 │                        │                      │                     │
 │ font/hero/size         │ font/size/2xl        │ font/size/3xl       │
 │                        │                      │                     │
 │ ...                    │ ...                  │ ...                 │
 │                        │                      │                     │
 └────────────────────────┴──────────────────────┴─────────────────────┘
```

Now, simply change the value of the `font/hero/size` variable in the Design Tokens collection to reference the `font/hero/size` variable in the Device Modes collection!

```

       ┌────────────────────────┬────────────────────────┐
       │                        │                        │
       │ Design Tokens          │         defalut        │
       │                        │                        │
       ├────────────────────────┼────────────────────────┤
       │                        │                        │
       │ colors/primary/DEFAULT │ colors/primary/DEFAULT │
       │                        │                        │
       │ colors/zhiyun/600      │ #E55517                │
       │                        │                        │
       │ colors/zhiyun/500      │ #C03939                │
       │                        │                        │
       │ colors/fiveray/600     │ #EE6D21                │
       │                        │                        │
       │ colors/fiveray/500     │ #DA5959                │
       │                        │                        │
       │ font/hero/size         │ font/size/2xl          ├─────┐
       │                        │                        │     │
┌─────►│ font/size/2xl          │ 24                     │     │
│      │                        │                        │     │
├─────►│ font/size/3xl          │ 30                     │     │
│      │                        │                        │     │
│      │ ...                    │ ...                    │     │
│      │                        │                        │     │
│      └────────────────────────┴────────────────────────┘     │
│                                                              │
│                                                              │
│  ┌───────────────────────────────────────────────────────────┘
│  │
│  │
│  │   ┌────────────────────────┬──────────────────────┬─────────────────────┐
│  │   │                        │                      │                     │
│  │   │ Device Modes           │        default       │    min-width:1024   │
│  │   │                        │                      │                     │
│  │   ├────────────────────────┼──────────────────────┼─────────────────────┤
│  │   │                        │                      │                     │
│  └──►│ font/hero/size         │ font/size/2xl──┐     │ font/size/3xl──┐    │
│      │                        │                │     │                │    │
│      │ ...                    │ ...            │     │ ...            │    │
│      │                        │                │     │                │    │
│      └────────────────────────┴────────────────┼─────┴────────────────┼────┘
│                                                │                      │
│                                                │                      │
└────────────────────────────────────────────────┴──────────────────────┘
```

We omitted the Theme Modes collection because its content remains the same as before. This is also an advantage of the single outlet principle - we only need to focus on variables that need to change in specific modes.

### Density Modes
Some B2B backend projects might have density modes where various sizes become smaller, such as fonts, spacing, container widths, etc. Let's further expand our variable system by adding density modes.

First, create a series of `spacing` variables in the Design Tokens collection to manage spacing and dimensions. For demonstration purposes, we only created a `spacing/1` variable. In actual projects, you would need to create more variables like `spacing/2`, `spacing/3`, `spacing/4`, etc. See [Spacing Variable Organization Recommendations](/docs/organizing-your-variables/spacing).

```

    ┌────────────────────────┬────────────────────────┐
    │                        │                        │
    │ Design Tokens          │         defalut        │
    │                        │                        │
    ├────────────────────────┼────────────────────────┤
    │                        │                        │
    │ colors/primary/DEFAULT │ colors/primary/DEFAULT │
    │                        │                        │
    │ colors/zhiyun/600      │ #E55517                │
    │                        │                        │
    │ colors/zhiyun/500      │ #C03939                │
    │                        │                        │
    │ colors/fiveray/600     │ #EE6D21                │
    │                        │                        │
    │ colors/fiveray/500     │ #DA5959                │
    │                        │                        │
    │ font/hero/size         │ font/size/2xl          │
    │                        │                        │
    │ font/size/2xl          │ 24                     │
    │                        │                        │
    │ font/size/3xl          │ 30                     │
    │                        │                        │
    │ spacing/1              │ spacing/1              │
    │                        │                        │
    │ ...                    │ ...                    │
    │                        │                        │
    └────────────────────────┴────────────────────────┘
```

Create a Density Modes collection to manage layout density, and create `spacing/1`, `font/size/2xl`, and `font/size/3xl` variables, then set different values for different density levels.

```
┌────────────────────────┬──────────────────────┬─────────────────────┐
│                        │                      │                     │
│ Density Modes          │        default       │       compact       │
│                        │                      │                     │
├────────────────────────┼──────────────────────┼─────────────────────┤
│                        │                      │                     │
│ spacing/1              │ 4                    │ 3                   │
│                        │                      │                     │
│ font/size/2xl          │ 24                   │ 22                  │
│                        │                      │                     │
│ font/size/3xl          │ 30                   │ 26                  │
│                        │                      │                     │
│ ...                    │ ...                  │ ...                 │
│                        │                      │                     │
└────────────────────────┴──────────────────────┴─────────────────────┘
```

Change the values of `spacing/1`, `font/size/2xl`, and `font/size/3xl` variables in the Design Tokens collection to reference the corresponding variables in the Density Modes collection.

```
    ┌────────────────────────┬────────────────────────┐
    │                        │                        │
    │ Design Tokens          │         defalut        │
    │                        │                        │
    ├────────────────────────┼────────────────────────┤
    │                        │                        │
    │ colors/primary/DEFAULT │ colors/primary/DEFAULT │
    │                        │                        │
    │ colors/zhiyun/600      │ #E55517                │
    │                        │                        │
    │ colors/zhiyun/500      │ #C03939                │
    │                        │                        │
    │ colors/fiveray/600     │ #EE6D21                │
    │                        │                        │
    │ colors/fiveray/500     │ #DA5959                │
    │                        │                        │
    │ font/hero/size         │ font/size/2xl          │
    │                        │                        │
    │ font/size/2xl          │ 24                     ├──────┐
    │                        │                        │      │
    │ font/size/3xl          │ 30                     ├──────┤
    │                        │                        │      │
    │ spacing/1              │ spacing/1              ├──────┤
    │                        │                        │      │
    │ ...                    │ ...                    │      │
    │                        │                        │      │
    └────────────────────────┴────────────────────────┘      │
                                                             │
                                                             │
┌────────────────────────────────────────────────────────────┘
│
│
│   ┌────────────────────────┬──────────────────────┬─────────────────────┐
│   │                        │                      │                     │
│   │ Density Modes          │        default       │       compact       │
│   │                        │                      │                     │
│   ├────────────────────────┼──────────────────────┼─────────────────────┤
│   │                        │                      │                     │
├──►│ spacing/1              │ 4                    │ 3                   │
│   │                        │                      │                     │
├──►│ font/size/2xl          │ 24                   │ 22                  │
│   │                        │                      │                     │
└──►│ font/size/3xl          │ 30                   │ 26                  │
    │                        │                      │                     │
    │ ...                    │ ...                  │ ...                 │
    │                        │                      │                     │
    └────────────────────────┴──────────────────────┴─────────────────────┘
```

Congratulations! You've created a very powerful composite variable system that's easy to extend. This is a great start, and all the effort is worthwhile. As a designer maintaining a design system, your variables may be used countless times by other designers and serve as a bridge from design to development, while they don't need to worry about these reference relationships.

Through proper multi-mode variable organization, you can build a design system that is both flexible and maintainable, effectively supporting complex design requirements.
