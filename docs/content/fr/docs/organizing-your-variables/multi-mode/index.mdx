import { Callout } from 'nextra/components'

# Organisation des variables multi-modes

Le multi-mode est une fonctionnalité puissante du système de variables de Figma qui permet à une même variable d'avoir différentes valeurs dans différents contextes. Organiser correctement les variables multi-modes est essentiel pour construire un système de design évolutif. Nous recommandons d'utiliser le [principe de sortie unique](/docs/single-outlet-principle) pour gérer des systèmes de variables multi-modes complexes.

## Scénarios d'application multi-modes

Les systèmes de variables multi-modes conviennent aux scénarios suivants :
- **Modes de thème** : Changement de thème clair/sombre
- **Modes de marque** : Support multi-marques de produits
- **Modes d'appareil** : Adaptation de design responsive
- **Modes de densité** : Ajustement de la densité d'interface

## Stratégies d'organisation

### Séparer les collections par dimension
Chaque dimension de mode utilise une gestion de collection indépendante, combinée avec le [principe de sortie unique](/docs/single-outlet-principle) pour établir des hiérarchies de référence claires.

### Rationaliser les variables
Les collections de modes n'incluent que les variables qui doivent réellement changer dans cette dimension.

### Nommage sémantique
Utilisez des noms de variables et de modes descriptifs, comme `colors/primary` et `light/dark`.

## Création de systèmes de variables multi-modes complexes

En utilisant le principe de sortie unique, vous pouvez créer des systèmes de variables multi-dimensionnels complexes qui incluent des combinaisons comme les thèmes clair/sombre, les thèmes de marque, le design responsive et les modes de densité. Construisons cela étape par étape et expérimentons les avantages du principe de sortie unique.

### Commencer par les combinaisons de thèmes de marque

Nous avons déjà un système de variables qui prend en charge les thèmes clair/sombre. Maintenant, nous voulons ajouter des variables de thème de marque en plus du système de thème clair/sombre existant.

```
                ┌────────────────────────┬────────────────────────┐
                │                        │                        │
                │ Design Tokens          │         defalut        │
                │                        │                        │
                ├────────────────────────┼────────────────────────┤
                │                        │                        │
                │ colors/primary/DEFAULT │ colors/primary/DEFAULT │───────┐
                │                        │                        │       │
┌──────────────►│ colors/zhiyun/600      │ #E55517                │       │
│               │                        │                        │       │
├──────────────►│ colors/zhiyun/500      │ #C03939                │       │
│               │                        │                        │       │
│               │ ...                    │ ...                    │       │
│               │                        │                        │       │
│               └────────────────────────┴────────────────────────┘       │
│                                                                         │
│                                                                         │
│    ┌────────────────────────────────────────────────────────────────────┘
│    │
│    │
│    │           ┌────────────────────────┬──────────────────────┬─────────────────────┐
│    │           │                        │                      │                     │
│    │           │ Theme Modes            │         light        │         dark        │
│    │           │                        │                      │                     │
│    │           ├────────────────────────┼──────────────────────┼─────────────────────┤
│    │           │                        │                      │                     │
│    └──────────►│ colors/primary/DEFAULT │ colors/zhiyun/600──┐ │ colors/zhiyun/500─┐ │
│                │                        │                    │ │                   │ │
│                │ ...                    │ ...                │ │ ...               │ │
│                │                        │                    │ │                   │ │
│                └────────────────────────┴────────────────────┼─┴───────────────────┼─┘
│                                                              │                     │
│                                                              │                     │
└──────────────────────────────────────────────────────────────┴─────────────────────┘
```

### Ajout des modes de thème de marque
Créez une collection Brands Modes pour gérer les variables de thème de marque, et créez deux modes de marque différents (dans cet exemple `zhiyun` et `fiveray`), puis créez deux variables `colors/primary/light` et `colors/primary/dark`, en définissant des valeurs différentes pour chaque mode (dans cet exemple, référençant les couleurs associées de la collection principale Design Tokens).

```
 ┌────────────────────────┬──────────────────────┬─────────────────────┐
 │                        │                      │                     │
 │ Brands Modes           │        zhiyun        │        fiveray      │
 │                        │                      │                     │
 ├────────────────────────┼──────────────────────┼─────────────────────┤
 │                        │                      │                     │
 │ colors/primary/light   │ colors/zhiyun/600    │ colors/fiveray/600  │
 │                        │                      │                     │
 │ colors/primary/dark    │ colors/zhiyun/600    │ colors/fiveray/500  │
 │                        │                      │                     │
 │ ...                    │ ...                  │ ...                 │
 │                        │                      │                     │
 └────────────────────────┴──────────────────────┴─────────────────────┘
```

Ensuite, établissez les relations de référence des variables : les variables de la collection Theme Modes référencent les variables correspondantes de la collection Brands Modes en fonction du thème actuel, tandis que les variables de la collection Brands Modes référencent des valeurs de couleur spécifiques dans la collection Design Tokens. De cette façon, lors du changement de marque ou de thème, toutes les couleurs du système se mettront à jour en conséquence.

```


                   ┌────────────────────────┬────────────────────────┐
                   │                        │                        │
                   │ Design Tokens          │         defalut        │
                   │                        │                        │
                   ├────────────────────────┼────────────────────────┤
                   │                        │                        │
                   │ colors/primary/DEFAULT │ colors/primary/DEFAULT │───────┐
                   │                        │                        │       │
   ┌──────────────►│ colors/zhiyun/600      │ #E55517                │       │
   │               │                        │                        │       │
   ├──────────────►│ colors/zhiyun/500      │ #C03939                │       │
   │               │                        │                        │       │
   ├──────────────►│ colors/fiveray/600     │ #EE6D21                │       │
   │               │                        │                        │       │
   ├──────────────►│ colors/fiveray/500     │ #DA5959                │       │
   │               │                        │                        │       │
   │               │ ...                    │ ...                    │       │
   │               │                        │                        │       │
   │               └────────────────────────┴────────────────────────┘       │
   │                                                                         │
   │                                                                         │
   │   ┌─────────────────────────────────────────────────────────────────────┘
   │   │
   │   │
   │   │           ┌────────────────────────┬──────────────────────┬─────────────────────┐
   │   │           │                        │                      │                     │
   │   │           │ Theme Modes            │         light        │         dark        │
   │   │           │                        │                      │                     │
   │   │           ├────────────────────────┼──────────────────────┼─────────────────────┤
   │   │           │                        │                      │                     │
   │   └──────────►│ colors/primary/DEFAULT │ colors/primary/light │ colors/primary/dark │
   │               │                        │                      │                     │
   │               │ ...                    │ ...      │           │ ...       │         │
   │               │                        │          │           │           │         │
   │               └────────────────────────┴──────────┼───────────┴───────────┼─────────┘
   │                                                   │                       │
   │                                                   │                       │
   │   ┌───────────────────────────────────────────────┴───────────────────────┘
   │   │
   │   │
   │   │           ┌────────────────────────┬──────────────────────┬─────────────────────┐
   │   │           │                        │                      │                     │
   │   │           │ Brands Modes           │        zhiyun        │        fiveray      │
   │   │           │                        │                      │                     │
   │   │           ├────────────────────────┼──────────────────────┼─────────────────────┤
   │   │           │                        │                      │                     │
   │   ├──────────►│ colors/primary/light   │ colors/zhiyun/600──┐ │ colors/fiveray/600─┐│
   │   │           │                        │                    │ │                    ││
   │   └──────────►│ colors/primary/dark    │ colors/zhiyun/600──┤ │ colors/fiveray/500──┤│
   │               │                        │                    │ │                    ││
   │               │ ...                    │ ...                │ │ ...                ││
   │               │                        │                    │ │                    ││
   │               └────────────────────────┴────────────────────┼─┴────────────────────┼┘
   │                                                             │                      │
   │                                                             │                      │
   └─────────────────────────────────────────────────────────────┴──────────────────────┘

```

C'est fait ! Vous avez créé un système de variables multi-dimensionnel qui inclut les thèmes clair/sombre et les thèmes de marque, et grâce au principe de sortie unique, rendu votre système de design plus flexible et maintenable.
En regardant la chaîne de références des variables dans son ensemble, vous constaterez qu'elle est quelque peu complexe, mais c'est beaucoup plus clair et maintenable que de gérer toutes les variables dans une seule collection. Mais nous n'avons pas encore terminé - étendons davantage ce système de variables.

### Modes de design responsive
Typiquement, les variables de taille de police s'ajustent en fonction des différentes tailles d'écran. En prenant la variable `font/hero/size` comme exemple, créez d'abord une variable `font/hero/size` dans la collection Design Tokens, ainsi que les variables `font/size/2xl` et `font/size/3xl`.

```
    ┌────────────────────────┬────────────────────────┐
    │                        │                        │
    │ Design Tokens          │         defalut        │
    │                        │                        │
    ├────────────────────────┼────────────────────────┤
    │                        │                        │
    │ colors/primary/DEFAULT │ colors/primary/DEFAULT │
    │                        │                        │
    │ colors/zhiyun/600      │ #E55517                │
    │                        │                        │
    │ colors/zhiyun/500      │ #C03939                │
    │                        │                        │
    │ colors/fiveray/600     │ #EE6D21                │
    │                        │                        │
    │ colors/fiveray/500     │ #DA5959                │
    │                        │                        │
───►│ font/hero/size         │ font/size/2xl          │
    │                        │                        │
───►│ font/size/2xl          │ 24                     │
    │                        │                        │
───►│ font/size/3xl          │ 30                     │
    │                        │                        │
    │ ...                    │ ...                    │
    │                        │                        │
    └────────────────────────┴────────────────────────┘
```

Créez une collection Device Modes pour gérer les variables de design responsive, et créez une variable `font/hero/size`, puis définissez des valeurs différentes pour différentes tailles d'appareils.

```

 ┌────────────────────────┬──────────────────────┬─────────────────────┐
 │                        │                      │                     │
 │ Device Modes           │        default       │    min-width:1024   │
 │                        │                      │                     │
 ├────────────────────────┼──────────────────────┼─────────────────────┤
 │                        │                      │                     │
 │ font/hero/size         │ font/size/2xl        │ font/size/3xl       │
 │                        │                      │                     │
 │ ...                    │ ...                  │ ...                 │
 │                        │                      │                     │
 └────────────────────────┴──────────────────────┴─────────────────────┘
```

Maintenant, changez simplement la valeur de la variable `font/hero/size` dans la collection Design Tokens pour référencer la variable `font/hero/size` dans la collection Device Modes !

```

       ┌────────────────────────┬────────────────────────┐
       │                        │                        │
       │ Design Tokens          │         defalut        │
       │                        │                        │
       ├────────────────────────┼────────────────────────┤
       │                        │                        │
       │ colors/primary/DEFAULT │ colors/primary/DEFAULT │
       │                        │                        │
       │ colors/zhiyun/600      │ #E55517                │
       │                        │                        │
       │ colors/zhiyun/500      │ #C03939                │
       │                        │                        │
       │ colors/fiveray/600     │ #EE6D21                │
       │                        │                        │
       │ colors/fiveray/500     │ #DA5959                │
       │                        │                        │
       │ font/hero/size         │ font/size/2xl          ├─────┐
       │                        │                        │     │
┌─────►│ font/size/2xl          │ 24                     │     │
│      │                        │                        │     │
├─────►│ font/size/3xl          │ 30                     │     │
│      │                        │                        │     │
│      │ ...                    │ ...                    │     │
│      │                        │                        │     │
│      └────────────────────────┴────────────────────────┘     │
│                                                              │
│                                                              │
│  ┌───────────────────────────────────────────────────────────┘
│  │
│  │
│  │   ┌────────────────────────┬──────────────────────┬─────────────────────┐
│  │   │                        │                      │                     │
│  │   │ Device Modes           │        default       │    min-width:1024   │
│  │   │                        │                      │                     │
│  │   ├────────────────────────┼──────────────────────┼─────────────────────┤
│  │   │                        │                      │                     │
│  └──►│ font/hero/size         │ font/size/2xl──┐     │ font/size/3xl──┐    │
│      │                        │                │     │                │    │
│      │ ...                    │ ...            │     │ ...            │    │
│      │                        │                │     │                │    │
│      └────────────────────────┴────────────────┼─────┴────────────────┼────┘
│                                                │                      │
│                                                │                      │
└────────────────────────────────────────────────┴──────────────────────┘
```

Nous avons omis la collection Theme Modes car son contenu reste le même qu'avant. C'est aussi un avantage du principe de sortie unique - nous n'avons besoin de nous concentrer que sur les variables qui doivent changer dans des modes spécifiques.

### Modes de densité
Certains projets backend B2B peuvent avoir des modes de densité où diverses tailles deviennent plus petites, comme les polices, l'espacement, les largeurs de conteneurs, etc. Étendons davantage notre système de variables en ajoutant des modes de densité.

D'abord, créez une série de variables `spacing` dans la collection Design Tokens pour gérer l'espacement et les dimensions. À des fins de démonstration, nous n'avons créé qu'une variable `spacing/1`. Dans les projets réels, vous devriez créer plus de variables comme `spacing/2`, `spacing/3`, `spacing/4`, etc. Voir [Recommandations d'organisation des variables d'espacement](/docs/organizing-your-variables/spacing).

```

    ┌────────────────────────┬────────────────────────┐
    │                        │                        │
    │ Design Tokens          │         defalut        │
    │                        │                        │
    ├────────────────────────┼────────────────────────┤
    │                        │                        │
    │ colors/primary/DEFAULT │ colors/primary/DEFAULT │
    │                        │                        │
    │ colors/zhiyun/600      │ #E55517                │
    │                        │                        │
    │ colors/zhiyun/500      │ #C03939                │
    │                        │                        │
    │ colors/fiveray/600     │ #EE6D21                │
    │                        │                        │
    │ colors/fiveray/500     │ #DA5959                │
    │                        │                        │
    │ font/hero/size         │ font/size/2xl          │
    │                        │                        │
    │ font/size/2xl          │ 24                     │
    │                        │                        │
    │ font/size/3xl          │ 30                     │
    │                        │                        │
    │ spacing/1              │ spacing/1              │
    │                        │                        │
    │ ...                    │ ...                    │
    │                        │                        │
    └────────────────────────┴────────────────────────┘
```

Créez une collection Density Modes pour gérer la densité de mise en page, et créez les variables `spacing/1`, `font/size/2xl` et `font/size/3xl`, puis définissez des valeurs différentes pour différents niveaux de densité.

```
┌────────────────────────┬──────────────────────┬─────────────────────┐
│                        │                      │                     │
│ Density Modes          │        default       │       compact       │
│                        │                      │                     │
├────────────────────────┼──────────────────────┼─────────────────────┤
│                        │                      │                     │
│ spacing/1              │ 4                    │ 3                   │
│                        │                      │                     │
│ font/size/2xl          │ 24                   │ 22                  │
│                        │                      │                     │
│ font/size/3xl          │ 30                   │ 26                  │
│                        │                      │                     │
│ ...                    │ ...                  │ ...                 │
│                        │                      │                     │
└────────────────────────┴──────────────────────┴─────────────────────┘
```

Changez les valeurs des variables `spacing/1`, `font/size/2xl` et `font/size/3xl` dans la collection Design Tokens pour référencer les variables correspondantes dans la collection Density Modes.

```
    ┌────────────────────────┬────────────────────────┐
    │                        │                        │
    │ Design Tokens          │         defalut        │
    │                        │                        │
    ├────────────────────────┼────────────────────────┤
    │                        │                        │
    │ colors/primary/DEFAULT │ colors/primary/DEFAULT │
    │                        │                        │
    │ colors/zhiyun/600      │ #E55517                │
    │                        │                        │
    │ colors/zhiyun/500      │ #C03939                │
    │                        │                        │
    │ colors/fiveray/600     │ #EE6D21                │
    │                        │                        │
    │ colors/fiveray/500     │ #DA5959                │
    │                        │                        │
    │ font/hero/size         │ font/size/2xl          │
    │                        │                        │
    │ font/size/2xl          │ 24                     ├──────┐
    │                        │                        │      │
    │ font/size/3xl          │ 30                     ├──────┤
    │                        │                        │      │
    │ spacing/1              │ spacing/1              ├──────┤
    │                        │                        │      │
    │ ...                    │ ...                    │      │
    │                        │                        │      │
    └────────────────────────┴────────────────────────┘      │
                                                             │
                                                             │
┌────────────────────────────────────────────────────────────┘
│
│
│   ┌────────────────────────┬──────────────────────┬─────────────────────┐
│   │                        │                      │                     │
│   │ Density Modes          │        default       │       compact       │
│   │                        │                      │                     │
│   ├────────────────────────┼──────────────────────┼─────────────────────┤
│   │                        │                      │                     │
├──►│ spacing/1              │ 4                    │ 3                   │
│   │                        │                      │                     │
├──►│ font/size/2xl          │ 24                   │ 22                  │
│   │                        │                      │                     │
└──►│ font/size/3xl          │ 30                   │ 26                  │
    │                        │                      │                     │
    │ ...                    │ ...                  │ ...                 │
    │                        │                      │                     │
    └────────────────────────┴──────────────────────┴─────────────────────┘
```

Félicitations ! Vous avez créé un système de variables composite très puissant et facile à étendre. C'est un excellent début, et tous les efforts en valent la peine. En tant que designer maintenant un système de design, vos variables peuvent être utilisées d'innombrables fois par d'autres designers et servir de pont entre le design et le développement, sans qu'ils aient besoin de se soucier de ces relations de référence.

Grâce à une organisation appropriée des variables multi-modes, vous pouvez construire un système de design à la fois flexible et maintenable, soutenant efficacement des exigences de design complexes.
