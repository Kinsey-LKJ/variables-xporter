import { Callout } from 'nextra/components'
import { CodePreview } from '../../components/CodePreview'

# æ’ä»¶é…ç½®

Variables Xporter æä¾›äº†ä¸°å¯Œçš„é…ç½®é€‰é¡¹ï¼Œå¸®åŠ©ä½ è‡ªå®šä¹‰å˜é‡å¯¼å‡ºè¿‡ç¨‹ã€‚æœ¬æŒ‡å—è¯¦ç»†ä»‹ç»äº†æ‰€æœ‰å¯ç”¨çš„é…ç½®é€‰é¡¹ã€‚

## åŸºç¡€é…ç½®

### å¯¼å‡ºæ ¼å¼

é€‰æ‹©å˜é‡çš„å¯¼å‡ºæ ¼å¼ï¼š

```js
{
  format: 'css-variables', // æˆ– 'tailwind'
  useRemUnit: true,       // ä½¿ç”¨ rem å•ä½
  remBasePx: 16          // rem åŸºå‡†å€¼
}
```

### å˜é‡é€‰æ‹©

é…ç½®è¦å¯¼å‡ºçš„å˜é‡èŒƒå›´ï¼š

<CodePreview
  before={`// Figma å˜é‡ç»“æ„
colors/
  primary/
    light: #E0E0E0
    default: #FF0000
    dark: #8B0000
  secondary/
    light: #E0FFE0
    default: #00FF00
    dark: #008B00`}
  after={`// å¯¼å‡ºé…ç½®
{
  includePaths: [
    'colors/primary/**',
    'colors/secondary/**'
  ],
  excludePaths: [
    '**/debug',
    '**/test'
  ]
}`}
  language="js"
/>

## é«˜çº§é…ç½®

### ä¸»é¢˜é…ç½®

é…ç½®å¤šä¸»é¢˜æ”¯æŒï¼š

```js
{
  themes: {
    light: {
      selector: '.light-theme',
      collection: 'Light Theme'
    },
    dark: {
      selector: '.dark-theme',
      collection: 'Dark Theme'
    }
  }
}
```

### å˜é‡è½¬æ¢

è‡ªå®šä¹‰å˜é‡è½¬æ¢è§„åˆ™ï¼š

<CodePreview
  before={`// Figma å˜é‡
spacing/
  small: 8px
  medium: 16px`}
  after={`// è½¬æ¢é…ç½®
{
  transformers: {
    spacing: (value) => \`\${value / 16}rem\`,
    color: (value) => value.toLowerCase()
  }
}`}
  language="js"
/>

### GitHub é›†æˆ

é…ç½® GitHub å¯¼å‡ºé€‰é¡¹ï¼š

```js
{
  github: {
    repository: 'owner/repo',
    branch: 'main',
    path: 'src/styles/variables',
    commitMessage: 'chore: update design variables'
  }
}
```

## å®Œæ•´é…ç½®ç¤ºä¾‹

è¿™æ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰é…ç½®é€‰é¡¹çš„å®Œæ•´ç¤ºä¾‹ï¼š

```js
{
  // åŸºç¡€é…ç½®
  format: 'css-variables',
  useRemUnit: true,
  remBasePx: 16,

  // å˜é‡é€‰æ‹©
  includePaths: [
    'colors/**',
    'typography/**',
    'spacing/**'
  ],
  excludePaths: [
    '**/deprecated',
    '**/test'
  ],

  // ä¸»é¢˜é…ç½®
  themes: {
    light: {
      selector: '.light-theme',
      collection: 'Light Theme'
    },
    dark: {
      selector: '.dark-theme',
      collection: 'Dark Theme'
    }
  },

  // å˜é‡è½¬æ¢
  transformers: {
    spacing: (value) => `${value / 16}rem`,
    color: (value) => value.toLowerCase(),
    typography: {
      size: (value) => `${value / 16}rem`,
      weight: (value) => value.toString()
    }
  },

  // GitHub é›†æˆ
  github: {
    repository: 'owner/repo',
    branch: 'main',
    path: 'src/styles/variables',
    commitMessage: 'chore: update design variables'
  },

  // è¾“å‡ºé…ç½®
  output: {
    cssVariables: {
      filename: 'variables.css',
      prefix: '--'
    },
    tailwind: {
      filename: 'tailwind.config.js',
      prefix: ''
    }
  }
}
```

## é…ç½®éªŒè¯

Variables Xporter ä¼šè‡ªåŠ¨éªŒè¯ä½ çš„é…ç½®ï¼š

<Callout type="info" emoji="ğŸ’¡">
  å¦‚æœé…ç½®æœ‰è¯¯ï¼Œæ’ä»¶ä¼šæ˜¾ç¤ºè¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®šä½é—®é¢˜ã€‚
</Callout>

### å¸¸è§é…ç½®é”™è¯¯

1. **è·¯å¾„æ ¼å¼é”™è¯¯**
```js
// âŒ é”™è¯¯
includePaths: ['colors/primary'] // ç¼ºå°‘é€šé…ç¬¦

// âœ… æ­£ç¡®
includePaths: ['colors/primary/**']
```

2. **é€‰æ‹©å™¨æ ¼å¼é”™è¯¯**
```js
// âŒ é”™è¯¯
selector: 'dark-theme' // ç¼ºå°‘å‰å¯¼ç‚¹

// âœ… æ­£ç¡®
selector: '.dark-theme'
```

## ç¯å¢ƒå˜é‡

æ”¯æŒé€šè¿‡ç¯å¢ƒå˜é‡è¦†ç›–é…ç½®ï¼š

```bash
VARIABLES_XPORTER_FORMAT=css-variables
VARIABLES_XPORTER_USE_REM=true
VARIABLES_XPORTER_REM_BASE=16
```

## é…ç½®æ–‡ä»¶

ä½ å¯ä»¥å°†é…ç½®ä¿å­˜åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ `.variables-xporter.json` æ–‡ä»¶ä¸­ï¼š

```json
{
  "format": "css-variables",
  "useRemUnit": true,
  "remBasePx": 16,
  "includePaths": [
    "colors/**",
    "typography/**"
  ]
}
```

## ä¸‹ä¸€æ­¥

- [æŸ¥çœ‹æœ€ä½³å®è·µ](/docs/best-practices) - äº†è§£é…ç½®çš„æœ€ä½³å®è·µ
- [æ•…éšœæ’é™¤](/docs/troubleshooting) - è§£å†³å¸¸è§é…ç½®é—®é¢˜
- [API å‚è€ƒ](/docs/api-reference) - æŸ¥çœ‹è¯¦ç»†çš„ API æ–‡æ¡£
