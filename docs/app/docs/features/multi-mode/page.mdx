import { Steps } from 'nextra/components'
import { Callout } from 'nextra/components'

# 多模式支持

多模式支持是 Variables Xporter 的一个重要功能，它允许你管理和导出适用于不同场景（如明暗主题）的变量集。

## 功能概述

- 支持多主题系统（明暗模式、品牌主题等）
- 智能变量值解析和替换
- 自动处理模式间的变量继承
- 支持 CSS 类和媒体查询两种切换方式

## 使用场景

### 明暗主题切换
最常见的使用场景是实现明暗主题：
- 为不同主题定义对应的颜色变量
- 自动生成主题切换代码
- 保持变量引用的一致性

### 多品牌支持
在需要支持多个品牌主题时：
- 为每个品牌定义专属的变量集
- 维护品牌间的共享变量
- 简化品牌主题的切换实现

## 配置选项

### 基础配置
```json
{
  "themeMode": "class",  // 或 "media"
  "darkMode": "class",   // 使用 class 切换暗色主题
  "darkClassName": "dark", // 暗色主题的类名
  "mediaQuery": false    // 是否使用媒体查询
}
```

### 高级配置
```json
{
  "themes": {
    "light": "default",
    "dark": "dark-theme",
    "brand1": "brand-theme-1",
    "brand2": "brand-theme-2"
  },
  "themeInheritance": {
    "dark": ["default"],
    "brand1": ["default"],
    "brand2": ["default"]
  }
}
```

## 示例代码

### Tailwind 配置示例
```javascript
// tailwind.config.js
module.exports = {
  darkMode: 'class',
  theme: {
    extend: {
      colors: {
        primary: {
          DEFAULT: '#1a73e8',
          dark: '#4285f4'
        }
      }
    }
  }
}
```

### CSS 变量示例
```css
:root {
  --colors-primary: #1a73e8;
  --colors-background: #ffffff;
}

.dark {
  --colors-primary: #4285f4;
  --colors-background: #1f1f1f;
}

.brand-theme {
  --colors-primary: #ff0000;
  --colors-background: #f5f5f5;
}
```

## 注意事项

<Callout type="warning">
  使用多模式系统时，请注意：
  - 确保所有主题模式下的变量都已正确定义
  - 避免过于复杂的变量继承关系
  - 注意主题切换时的性能影响
</Callout>

### 最佳实践
<Steps>
### 规划主题结构
在开始前明确定义所有需要支持的主题模式。

### 建立基础主题
创建一个基础主题作为其他主题的参考基准。

### 管理变量继承
合理使用变量继承，避免过度复杂的继承链。

### 测试主题切换
确保所有主题之间的切换都能正常工作。
</Steps>

<Callout type="info">
  建议使用类名切换方式实现主题切换，这样可以获得更好的浏览器兼容性和更灵活的主题控制能力。
</Callout>
