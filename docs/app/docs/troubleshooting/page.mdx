import { Callout } from 'nextra/components'

# 故障排除

本指南帮助你解决使用 Variables Xporter 时可能遇到的常见问题。

## 常见问题

### 1. 变量未被正确导出

#### 可能的原因
- 变量集合未被选中
- 变量名称包含特殊字符
- 变量引用循环

#### 解决方案
1. 检查变量集合是否被选中
2. 确保变量名称只包含字母、数字、中划线和下划线
3. 检查并解决变量之间的循环引用

### 2. 颜色值格式不正确

#### 可能的原因
- 颜色格式不兼容
- RGB/HSL 值转换问题
- 透明度处理问题

#### 解决方案
1. 使用标准的十六进制颜色值
2. 检查颜色空间设置
3. 确保透明度值在有效范围内

### 3. 主题切换不生效

#### 可能的原因
- CSS 类名配置错误
- 变量覆盖顺序问题
- 选择器优先级问题

#### 解决方案
1. 检查主题类名是否正确应用
2. 确保 CSS 文件加载顺序正确
3. 调整选择器优先级

### 4. Tailwind 配置问题

#### 可能的原因
- 配置文件路径错误
- 配置格式不正确
- 变量名称不符合 Tailwind 约定

#### 解决方案
1. 验证 tailwind.config.js 文件位置
2. 检查配置文件语法
3. 确保变量名称符合 Tailwind 命名规范

## 性能优化

### 1. 导出速度慢

#### 可能的原因
- 变量数量过多
- 复杂的变量引用关系
- 系统资源不足

#### 解决方案
1. 整理并精简变量集合
2. 简化变量引用层级
3. 关闭其他占用资源的程序

### 2. 生成文件过大

#### 可能的原因
- 未使用的变量被导出
- 重复的变量定义
- 冗余的主题变量

#### 解决方案
1. 使用选择性导出
2. 合并相似的变量
3. 优化主题变量结构

## GitHub 集成问题

### 1. 授权失败

#### 可能的原因
- 访问令牌过期
- 权限设置不正确
- 网络连接问题

#### 解决方案
1. 重新生成访问令牌
2. 检查仓库访问权限
3. 验证网络连接状态

### 2. 提交失败

#### 可能的原因
- 分支权限问题
- 文件冲突
- 提交信息格式错误

#### 解决方案
1. 检查分支权限设置
2. 解决文件冲突
3. 修正提交信息格式

## 调试技巧

### 1. 启用调试模式
在导出时添加 `debug` 参数可以查看详细的日志信息：

```js
// 在控制台中查看详细日志
console.log('Variables Xporter Debug Info:', debugInfo);
```

### 2. 检查变量结构
使用 Variables Xporter 的 API 检查变量结构：

```js
// 获取所有变量集合
const collections = figma.variables.getLocalVariables();
console.log('Variable Collections:', collections);
```

## 获取帮助

如果你遇到了无法解决的问题：

1. 查看 [API 参考](/docs/api-reference) 文档
2. 在 [GitHub Issues](https://github.com/your-repo/issues) 中搜索相关问题
3. 提交新的 Issue 并提供详细的问题描述

<Callout type="info" emoji="💡">
  提交 Issue 时，请包含以下信息：
  - Figma 版本
  - Variables Xporter 版本
  - 问题复现步骤
  - 错误信息截图
</Callout>
